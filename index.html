<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>iron2column</title>
	<link rel="stylesheet" href="./styles/style.css">
	<link rel="stylesheet" href="./styles/scheme_basic.css">
	<link rel="stylesheet" href="./styles/home.css">
	<link rel="stylesheet" href="./styles/3d.css">
	<link rel="stylesheet" href="./styles/works.css">
	<script src="https://kit.fontawesome.com/c0458c68bb.js" crossorigin="anonymous"></script>
	<link rel="apple-touch-icon" sizes="180x180" href="./assets/favicon/apple-touch-icon.png">
	<link rel="icon" type="image/png" sizes="32x32" href="./assets/favicon/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="./assets/favicon/favicon-16x16.png">
	<link rel="manifest" href="/site.webmanifest">
</head>

<body>

	<aside id="asideBar">
		<div id="head_portrait">
			<img src="./images/asidebar-headportrait-1.jpeg" alt="">
		</div>

		<nav id="asideBarNav">
			<ul class="ul-asideBarNav">
				<li class="ul-asideBarNav-li ul-asideBarNav-li_activate ">
					<a href="#Home"><abbr title="Home"><i class="fa-solid fa-house"></i></abbr></a>
				</li>
				<li class="ul-asideBarNav-li">
					<a href="#Works"><abbr title="Works"><i class="fa-solid fa-laptop-code"></i></abbr></a>
				</li>
			</ul>
		</nav>

		<ul class="links">
			<li><a target="_blank" href="https://github.com/iron2column"><abbr title="Github"><i
							class="fa-brands fa-github"></i></abbr></a></li>
			<li><a target="_blank" href="https://codepen.io/your-work/"><abbr title="CodePen"><i
							class="fa-brands fa-codepen"></i></abbr></a></li>
		</ul>
	</aside>

	<main id="mainWindow">

		<section id="Home" class="section">
			<!-- FIXME: firefox、safari 对 backdrop-filter 的兼容问题 -->
			<div id="scene_flip-cards" class="scene">
				<div id="work_flip-cards" class="work">

					<div id="selfIntroduceA" class="element_card-front sheet_card text-align flex-column">
						<h1 class="text-color font-largest">@iron2column</h1>
						<span class="tag">前端开发工程师</span>
					</div>

					<div id="selfIntroduceB" class=" element_card-back sheet_card">
						<u>@iron2column</u>是一名软件工程师，当前以前端为主要研究方向
					</div>

				</div>
			</div>
		</section>

		<section id="Works" class="section">
			<div id="workspace">
				<h1 class="title">PartII 即将到来...</h1>

			</div>
		</section>

	</main>

	<script>
		document.getElementById('work_flip-cards').addEventListener('click', (event) => {
			var cardFront = document.getElementById('selfIntroduceA').classList.toggle('flipping-front');
			var cardBack = document.getElementById('selfIntroduceB').classList.toggle('flipping-back');
		})

		var mainWindow = document.getElementById('mainWindow');
		mainWindow.addEventListener('scroll', event => {
			// 获取楼层数
			var floor = computeFloorNumber(event.currentTarget.scrollTop, window.innerHeight);
			var floorIndex = floor-1;

			// 清除所有li的激活样式
			var asideBarNavLis =  document.getElementById('asideBarNav').querySelectorAll('li');
			asideBarNavLis.forEach(li=>li.classList.remove('ul-asideBarNav-li_activate'));

			// 为当前楼层li添加激活样式
			asideBarNavLis[floorIndex].classList.add('ul-asideBarNav-li_activate')

		})

		function computeFloorNumber(scrollTop, fixedHeight) {
			var fixedHeight = fixedHeight || window.innerHeight;
			return Math.floor(scrollTop / fixedHeight) + 1;
		}
	</script>
</body>

</html>